<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YM72B5R12M"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-YM72B5R12M');
</script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 20px;
      background-color: #1f1f1f;
      color: #51f57d;
    }
    #mycontainer {
      margin-top: 70px;
    }
    #gridSystem{
        display: grid; 
      grid-template-columns: 1fr 1fr;
    }
    #motivation {
      top: 10px;
      left: 10px;
      font-size: 18px;
      color: #555;
      font-weight: bold;
    }
    h1 {
    margin-bottom:25px;
    font-weight: bold;
      text-align: center;
      color: #51f57d;
    }
    .counter-section {
      
      background-color: #333;
      padding: 10px;
      border-radius: 12px;
      margin: 5px;
      margin-bottom: 20px;
      transition: transform 0.3s ease;
      position: relative;
      color: #51f57d;
    }
    p {
      color: #777;
      font-size: 12px;
      font-weight: bold;
      
    }
    h2 {
      font-size: 20px;
      font-weight: bold;
    }
    .containerforme {
      margin: 20px auto;
      padding: 20px;
      background-color: #333;
      border-radius: 8px;
    }
    .input-section {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
    }
    .input-row label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }
    .input-row {
      display: flex;
      justify-content: space-between;
      width: 100%;
      margin-bottom: 10px;
    }
    .input-row div {
      flex: 1;
      margin-right: 10px;
    }
    .input-row div:last-child {
      margin-right: 0;
    }
    .input-section input[type="text"], .input-section input[type="number"], .input-section select {
      width: 100%;
      padding: 8px;
      border-radius: 4px;
      border: 1px solid #555;
      background-color: #444;
      color: #fff;
      margin-bottom: 10px;
    }
    .button-section {
      display: flex;
      justify-content: space-between;
    }
    .button-section button {
      flex: 1;
      padding: 10px;
      border: none;
      border-radius: 4px;
      background-color: #4CAF50;
      color: #fff;
      cursor: pointer;
      margin-right: 5px;
    }
    .button-section button:last-child {
      margin-right: 0;
    }
    .button-section button#deleteEntry {
      background-color: #ca4545;
    }
    .mock-list {
      margin-top: 20px;
      padding-left: 0;
      list-style: none;
    }
    .mock-list li {
      background-color: #444;
      padding: 10px;
      margin-bottom: 5px;
      border-radius: 4px;
      display: block;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
    }
    .mock-list .date {
      float: right;
      color: #bbb;
      margin-left: auto;
      margin-right: 10px;
    }
    .mock-details {
  display: none;
  background-color: #333;
  margin-top: 10px;
  padding: 10px;
  border-radius: 4px;
  line-height: 1.5;
  width: 100%;
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.5s ease-in-out, opacity 0.5s ease-in-out;
  opacity: 0;
}

.mock-details.expanded {
  display: block;
  max-height: 500px; /* or a reasonable maximum height */
  opacity: 1;
}

    .mock-details table {
      width: 100%;
      border-collapse: collapse;
    }
    .mock-details th, .mock-details td {
      padding: 8px;
      text-align: left;
      border-bottom: 1px solid #555;
      width: 100%;
    }
    #select{
        color: #51f57d;
    }
    .form-check-label{
        font-size:20px;
        padding: 5px;
        margin-right: 5px;
        margin-bottom: 5px;
    }
    #tableHeading{
       font-weight: bold;
       font-size: 20px;
       padding: 5px;
       margin-left: 5px;
    }
    .input-row label{
      font-size: 12px;
    }
  </style>
  <title>Question Counter</title>
</head>
<body>
  <nav class="navbar navbar-fixed-top navbar-inverse">
    <div role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a href="#" id="motivation" class="navbar-brand">IIT</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="index.html">Home</a></li>
            <li class="active"><a><href="mock.html">Mocks</a></li>
          </ul>
        </div>
      </div>
    </div>
  </nav>
  <div id="mycontainer">
    <h1>Mocks Counter</h1>
    <div id="gridSystem"><div class="counter-section" id="jeeMains">
      <h2>JEE Mains</h2>
      <p>Problems Solved: <span id="section1Count">0</span></p>
      <p class="mock-tests">Mock Tests Given: <span id="mockCount1">0</span></p>
    </div>
    <div class="counter-section" id="jeeAdvanced">
      <h2>JEE Advanced</h2>
      <p>Problems Solved: <span id="section2Count">0</span></p>
      <p class="mock-tests">Papers Given: <span id="mockCount2">0</span></p>
    </div></div>
  </div>

  <div class="containerforme">
    <div class="input-section">
        
        <div class="form-check form-check-inline"> <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="JEE Mains" checked> <label class="form-check-label" for="inlineRadio1">Jee Mains</label> </div> <div class="form-check form-check-inline"> <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="JEE Advanced"> <label class="form-check-label" for="inlineRadio2">Jee Advanced</label> </div> 
        
      <div class="input-row">

        <div>
          <label for="mockName">Mock Test Name:</label>
          <input type="text" id="mockName" placeholder="Enter mock test name">
        </div>
      </div>
      <div class="input-row">
        <div>
          <label for="mockMarks">Marks Obtained:</label>
          <input type="number" id="mockMarks" placeholder="Enter marks obtained">
        </div>
        <div>
          <label for="mockTotalMarks">Total Marks:</label>
          <input type="number" id="mockTotalMarks" placeholder="Enter total marks">
        </div>
      </div>
      <div class="input-row">
        <div>
          <label for="physicsScore">Physics:</label>
          <input type="number" id="physicsScore" placeholder="physics score">
        </div>
        <div>
          <label for="chemistryScore">Chemistry:</label>
          <input type="number" id="chemistryScore" placeholder="chemistry score">
        </div>
        <div>
          <label for="mathsScore">Maths:</label>
          <input type="number" id="mathsScore" placeholder="maths score">
        </div>
      </div>
      <div class="input-row">
          <div>
          <label for="totalQuestions">Total Questions:</label>
          <input type="number" id="totalQuestions" placeholder="Enter total number of questions">
        </div>
        <div>
          <label for="questionsAttempted">Attempted:</label>
          <input type="number" id="questionsAttempted" placeholder="Enter total questions attempted">
        </div>
        <div>
          <label for="correctQuestions">Correct:</label>
          <input type="number" id="correctQuestions" placeholder="Enter number of correct questions">
        </div>
        
        
      </div>
    </div>
    <div class="button-section">
      <button id="deleteEntry" onclick="deleteLastMockTest()">Delete Last Entry</button>
      <button onclick="addMockTest()">Add Entry</button>
      
    </div>
    <ul class="mock-list" id="mockList"></ul>

  </div>

  <script>
document.addEventListener("DOMContentLoaded", function () {
    // Load data from localStorage on page load
    loadMockTestsFromStorage();
    updateCounts();
});

let section1Count = 0;
let section2Count = 0;
let mockCount1 = 0;
let mockCount2 = 0;

function updateCounts() {
    document.getElementById('section1Count').innerText = section1Count;
    document.getElementById('section2Count').innerText = section2Count;
    document.getElementById('mockCount1').innerText = mockCount1;
    document.getElementById('mockCount2').innerText = mockCount2;
}

function addMockTest() {
    // Validation: Ensure all fields are filled
    if (!validateInputs()) {
        alert("Please fill out all fields.");
        return;
    }

    const selectedSection = document.querySelector('input[name="inlineRadioOptions"]:checked').value;
    const mockName = document.getElementById('mockName').value;
    const mockMarks = document.getElementById('mockMarks').value;
    const mockTotalMarks = document.getElementById('mockTotalMarks').value;
    const physicsScore = document.getElementById('physicsScore').value;
    const chemistryScore = document.getElementById('chemistryScore').value;
    const mathsScore = document.getElementById('mathsScore').value;
    const totalQuestions = document.getElementById('totalQuestions').value;
    const questionsAttempted = document.getElementById('questionsAttempted').value;
    const correctQuestions = document.getElementById('correctQuestions').value;
    const accuracy = ((correctQuestions / questionsAttempted) * 100).toFixed(2) + '%';
    const currentDate = new Date().toLocaleDateString();

    let mockList = document.getElementById('mockList');

    let newMock = document.createElement('li');
    newMock.className = 'mock-entry';
    newMock.innerHTML = `
        ${selectedSection}: ${mockName} 
        <span class="date">${currentDate}</span>
        <div class="mock-details">
          <table>
            <tr><td>Marks</td><td>${mockMarks}/${mockTotalMarks}</td></tr>
            <tr><td>Physics</td><td>${physicsScore}</td></tr>
            <tr><td>Chemistry</td><td>${chemistryScore}</td></tr>
            <tr><td>Maths</td><td>${mathsScore}</td></tr>
            <tr><td>Total Questions</td><td>${totalQuestions}</td></tr>
            <tr><td>Attempted</td><td>${questionsAttempted}</td></tr>
            <tr><td>Correct</td><td>${correctQuestions}</td></tr>
            <tr><td>Accuracy</td><td>${accuracy}</td></tr>
          </table>
        </div>`;

    newMock.addEventListener('click', function () {
        let details = this.querySelector('.mock-details');
        details.classList.toggle('expanded');
    });

    // Prepend the new entry to the top of the list
    mockList.prepend(newMock);

    // Update counts
    if (selectedSection === "JEE Mains") {
        section1Count += parseInt(questionsAttempted);
        mockCount1 += 1;
    } else if (selectedSection === "JEE Advanced") {
        section2Count += parseInt(questionsAttempted);
        mockCount2 += 1;
    }

    updateCounts();
    saveMockTestToStorage(selectedSection, mockName, mockMarks, mockTotalMarks, physicsScore, chemistryScore, mathsScore, totalQuestions, questionsAttempted, correctQuestions, currentDate);
    clearInputFields();
}

function deleteLastMockTest() {
    let mockList = document.getElementById('mockList');
    if (mockList.children.length > 0) {
        let lastMock = mockList.firstChild;
        let selectedSection = lastMock.innerHTML.includes("JEE Mains") ? "JEE Mains" : "JEE Advanced";
        let questionsAttempted = parseInt(lastMock.querySelectorAll('td')[4].innerText);

        if (selectedSection === "JEE Mains") {
            section1Count -= questionsAttempted;
            mockCount1 -= 1;
        } else if (selectedSection === "JEE Advanced") {
            section2Count -= questionsAttempted;
            mockCount2 -= 1;
        }

        mockList.removeChild(lastMock);
        updateCounts();
        removeLastMockTestFromStorage();
    }
}

function validateInputs() {
    const inputs = document.querySelectorAll('#mockName, #mockMarks, #mockTotalMarks, #physicsScore, #chemistryScore, #mathsScore, #totalQuestions, #questionsAttempted, #correctQuestions');
    for (let input of inputs) {
        if (input.value.trim() === '') {
            return false;
        }
    }
    return true;
}

function clearInputFields() {
    document.getElementById('mockName').value = '';
    document.getElementById('mockMarks').value = '';
    document.getElementById('mockTotalMarks').value = '';
    document.getElementById('physicsScore').value = '';
    document.getElementById('chemistryScore').value = '';
    document.getElementById('mathsScore').value = '';
    document.getElementById('totalQuestions').value = '';
    document.getElementById('questionsAttempted').value = '';
    document.getElementById('correctQuestions').value = '';
}

function saveMockTestToStorage(section, name, marks, totalMarks, physics, chemistry, maths, totalQuestions, attempted, correct, date) {
    const mockTests = JSON.parse(localStorage.getItem('mockTests')) || [];
    const newMockTest = {
        section,
        name,
        marks,
        totalMarks,
        physics,
        chemistry,
        maths,
        totalQuestions,
        attempted,
        correct,
        date
    };
    mockTests.unshift(newMockTest); // Add to the beginning of the array
    localStorage.setItem('mockTests', JSON.stringify(mockTests));
}

function loadMockTestsFromStorage() {
    const mockTests = JSON.parse(localStorage.getItem('mockTests')) || [];
    let mockList = document.getElementById('mockList');
    for (const mockTest of mockTests) {
        let newMock = document.createElement('li');
        newMock.className = 'mock-entry';
        const accuracy = ((mockTest.correct / mockTest.attempted) * 100).toFixed(2) + '%';
        newMock.innerHTML = `
            ${mockTest.section}: ${mockTest.name} 
            <span class="date">${mockTest.date}</span>
            <div class="mock-details">
              <table>
                <tr><td>Marks</td><td>${mockTest.marks}/${mockTest.totalMarks}</td></tr>
                <tr><td>Physics</td><td>${mockTest.physics}</td></tr>
                <tr><td>Chemistry</td><td>${mockTest.chemistry}</td></tr>
                <tr><td>Maths</td><td>${mockTest.maths}</td></tr>
                <tr><td>Total Questions</td><td>${mockTest.totalQuestions}</td></tr>
                <tr><td>Attempted</td><td>${mockTest.attempted}</td></tr>
                <tr><td>Correct</td><td>${mockTest.correct}</td></tr>
                <tr><td>Accuracy</td><td>${accuracy}</td></tr>
              </table>
            </div>`;

        newMock.addEventListener('click', function () {
            let details = this.querySelector('.mock-details');
            details.classList.toggle('expanded');
        });

        mockList.prepend(newMock); // Add each mock to the top of the list

        if (mockTest.section === "JEE Mains") {
            section1Count += parseInt(mockTest.attempted);
            mockCount1 += 1;
        } else if (mockTest.section === "JEE Advanced") {
            section2Count += parseInt(mockTest.attempted);
            mockCount2 += 1;
        }
    }
}

function removeLastMockTestFromStorage() {
    const mockTests = JSON.parse(localStorage.getItem('mockTests')) || [];
    if (mockTests.length > 0) {
        mockTests.shift(); // Remove the first entry in the array
        localStorage.setItem('mockTests', JSON.stringify(mockTests));
    }
}

</script>

</body>
</html>
